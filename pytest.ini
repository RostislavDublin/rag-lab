[pytest]
markers =
    e2e: End-to-end tests (full workflow)
    unit: Unit tests
    integration: Integration tests
    slow: Slow tests (60+ seconds, expensive API calls)
    cleanup: Cleanup operations (setup/teardown)
    upload: Document upload tests
    list: Document listing tests
    security: Security and access control tests
    metadata_filter: Metadata filtering tests
    semantic_search: Semantic search tests
    reranking: Reranking tests
    download: Document download tests
    storage: Storage verification tests

# E2E test stage groups for selective execution:
# pytest -m cleanup           # Run only cleanup
# pytest -m upload            # Run only uploads
# pytest -m "upload or list"  # Run upload + list
# pytest -m semantic_search   # Run semantic search tests
# pytest -m reranking         # Run reranking tests only
# pytest -m "not cleanup"     # Skip cleanup tests

# Suppress PyMuPDF SWIG deprecation warnings
filterwarnings =
    ignore:builtin type.*has no __module__ attribute:DeprecationWarning
